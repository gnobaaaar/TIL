
> 계정을 보호하는 것은 보안을 결정하는 핵심 요소 중 하나

### 리눅스 계정 모델
-> passwd, shadow, groups

	- 확장방식
		- LDAP 이나 Active Directory 같은 디렉토리 서비스와 통합

UID를 기준으로 사용자 정보를 매핑하여 식별 (부호없는 32비트 정수)


### /etc/passwd
시스템이 인식하는 사용자 정보 모음

![[Pasted image 20221024201333.png]]

**UID** : 루트 유저는 0, 실제 사용자는 1000 번 이상이 보통. 재활용 되지 않는다
-> 조직이 큰 경우 LDAP 권장

	- 홈 디렉터리 : 로그인 후 위치하는 디렉터리
	- 로그인 쉘



### /etc/shadow
![[Pasted image 20221024201703.png]]
- 암호화 정책 설정
	- 우분투 : /etc/pam.d/common-passwd
	- RedHat : /etc/login.defs / authconfig


### /etc/group
그룹명과 각 그룹의 멤버 목록을 포함
그룹명 : 암호 : GID 번호 : 멤버 목록
- /etc/passwd의 GID와의 관계? -> 합집합으로 적용.




## 사용자 추가
사용자 계정을 위해 /etc/passwd, /etc/shadow 파일 펹집
-> sudo 사용자 추가 : /etc/group (sudo 그룹에 추가)
홈디렉토리 생성 및 /etc/skel 디렉토리 파일 복자
소유자 설정 사용 권한 설정

### 간편하게 사용자 추가
![[Pasted image 20221024202316.png]]

	- useradd
		- -m : 홈디렉터리 생성 (jane)
		- -s [/bin/bash] : 해당 쉘을 지정


### 실습

- -G : 추가적인 그룹에 저장
![[Pasted image 20221024202516.png]]





## 서비스 어카운트 실습

![[Pasted image 20221024203954.png]]


	- sudo useradd -r -s /usr/sbin/nologin jenkins
		- -r == --system 
		- -s == --shell
	- 만료날짜 없이 생성
		- 생성이 필요한 경우 -m 옵션 추가
	- 쉘 접속을 허용하지 않는다