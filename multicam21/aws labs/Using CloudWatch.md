# Using CloudWatch for Resource Monitoring



<img src="images/%EA%B0%9C%EC%9A%94-1613779224791.png" alt="개요" style="zoom:150%;" />



### DMZ layer

인터넷과 같이 확신할 수 없는 영역에 기관의 외부 서비스를 하기 위한 물리적, 논리적 서브 네트워크

내부 네트워크와 외부 네트워크 사이에 DMZ라는 레이어를 두어 외부 공격자가 침투시에 내부 대신 DMZ 까지만 공격하게 하는 기법



![DMZ개념](images/DMZ%EA%B0%9C%EB%85%90.png)







---



### VPC

프라이빗 클라우드를 만드는 가장 기본이 되는 리소스

이름과 IPv4, CIDR 블록으로 구성

- CIDR 블록

  : IP의 범위를 지정하는 방식

  : `IP주소` + `/` + `넷마스크` 로 구성되어 있음

  `ex. 192.123.0.0/넷마스크 숫자`

  넷마스크 숫자는 IP의 범위를 나타내며 계산 방법은 `2^(32-n)` 
  `ex. 192.123.0.0/24 면 2^(32-24)=256, 즉 245개의 IP주소를 의미`

  `(192.123.0.0 ~ 192.123.1.255)`



### 서브넷

서브넷은 물적공간 가용영역과 연결된다

**VPC안에서 실제로 리소스가 생성될 수 있는 네트워크**

VPC와 서브넷을 모두 지정하거나 서브넷을 지정하면 VPC가 자동 유추되기도 한다

하나의 VPC는 여러개의 서브넷을 가질 수 있다(VPC와 동일한 크기의 서브넷 가능)



### 라우트 테이블

서브넷과 연결되어 있는 리소스, 라우트 테이블을 이용해 목적지를 찾게 된다

라우트 테이블은 서브넷과 연결되었지만 VPC를 생성할 때 만들어지고 VPC에도 연결



### 인터넷 게이트웨이

VPC는 격리된 네트워크 환경이기 때문에, 이 안에서 생성된 리소스들은 인터넷을 사용할 수가 없다

따라서 인터넷과 연결하기 위해서는 인터넷 게이트웨이가 필요

서브넷 <-> 인터넷게이트웨이 연결 후에, 퍼블릭IP를 가지고 있어야한다



### DHCP 옵션셋

DHCP 옵션셋은 TCP/IP 네트워크 상의 호스트로 설정 정보를 전달하는 DHCP 표준

도메인 네임 서버, 도메인 네임, NTP 서버, NetBIOS 서버 등의 정보를 설정할 수 있다

일반적으로 VPC 생성 시 만들어지는 DHCP 옵션셋을 그대로 사용



### 네트워크 ACL(Network ACL) / 시큐리티 그룹(Security Group)

네트워크 ACL은 주고(outbound) 받는(inbound) 트래픽을 제어하는 가상 방화벽

하나의 네트워크 ACL은 다수의 서브넷에서 재사용

시큐리티 그룹은 **인스턴스의 앞단**에서 트래픽을 제어하는 가상 방화벽

네트워크 ACL은 **서브넷 앞단**에서 트래픽을 제어하는 역할